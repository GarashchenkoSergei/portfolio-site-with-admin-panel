(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{559:function(t,s,e){"use strict";e.d(s,"b",function(){return a}),e.d(s,"a",function(){return o});var i=e(107);const a=t=>{const s=new FileReader;return new Promise((e,i)=>{try{s.readAsDataURL(t),s.onloadend=()=>{e(s.result)}}catch(t){throw new Error("Ошибка при чтении файла")}})},o=t=>{return`${i.a.defaults.baseURL}/${t}`}},566:function(t,s,e){},577:function(t,s,e){"use strict";var i=e(566);e.n(i).a},587:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content-works__item"},[e("div",{staticClass:"works-item__picture"},[e("div",{staticClass:"works-item__picture-image"},[e("img",{staticClass:"works-item__pic",attrs:{src:t.imagePath}})]),e("div",{staticClass:"works-item__stack"},[e("tags",{attrs:{tags:t.tagsArray}})],1)]),e("article",{staticClass:"works-item__content"},[e("h5",{staticClass:"works-item__title"},[t._v(t._s(t.work.title))]),e("p",{staticClass:"works-item__text"},[t._v(t._s(t.work.description))]),e("a",{staticClass:"works-item__link"},[t._v(t._s(t.work.link))]),e("div",{staticClass:"item__edit"},[e("div",{staticClass:"edit"},[e("a",{staticClass:"edit-button",on:{click:t.updateWork}},[e("div",{staticClass:"edit-change__text"},[t._v("Edit")]),e("div",{staticClass:"edit-change__icon"},[e("icon-base",{attrs:{width:"14",height:"14","icon-name":"pen","icon-color":"blue",viewBox:"0 0 528.899 528.899"}},[e("icon-pen",{staticClass:"icon-pen"})],1)],1)]),e("a",{staticClass:"edit-button",on:{click:t.removeExistedWork}},[e("div",{staticClass:"edit-change__text"},[t._v("Delete")]),e("div",{staticClass:"edit-change__icon"},[e("icon-base",{attrs:{width:"13",height:"13","icon-name":"cross","icon-color":"#bf2929",viewBox:"0 0 1000 1000"}},[e("icon-cross",{staticClass:"icon-cross"})],1)],1)])])])])])};i._withStripped=!0;e(107);var a=e(10),o=e(559),r=e(28),c=e(37),n=e(45),l={components:{tags:()=>e.e(0).then(e.bind(null,592)),IconBase:r.default,IconCross:c.default,IconPen:n.a},props:{work:Object},computed:{imagePath(){return Object(o.a)(this.work.photo)},tagsArray(){return this.work.techs.split(",")}},methods:{...Object(a.b)("works",["removeWork"]),...Object(a.c)("works",["SET_CURRENT_WORK"]),updateWork(){this.SET_CURRENT_WORK(this.work.id),this.$emit("updateWork")},async removeExistedWork(){if(!1!==confirm("Delete work?"))try{await this.removeWork(this.work.id)}catch(t){alert("Error during work delete")}}}},d=(e(577),e(3)),_=Object(d.a)(l,i,[],!1,null,"526b91a2",null);_.options.__file="src/admin/components/works-block.vue";s.default=_.exports}}]);